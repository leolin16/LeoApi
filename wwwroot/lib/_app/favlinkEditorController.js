!function(){"use strict";function n(n,i,e){var t=this;t.favlinkName=n.favlinkName,t.linkName=n.linkName,t.links=[],t.errorMessage="",t.isBusy=!0,t.newLink={},t.newLink.name="Play Demo",t.currentLink={},t.currentLink.url="https://www.bing.com/",t.curUrl=e.trustAsResourceUrl("https://www.bing.com/");var a="/ASPNET/api/favlinks/"+t.favlinkName+"/links",l="/ASPNET/api/favlinks/"+t.favlinkName+"/links/";i.get(a).then(function(n){angular.copy(n.data,t.links)},function(n){t.errorMessage="Failed to load links"})["finally"](function(){t.isBusy=!1}),t.addLink=function(){t.isBusy=!0,i.post(a,t.newLink).then(function(n){t.links.push(n.data),t.newLink={}},function(){t.errorMessage="Failed to add new link"})["finally"](function(){t.isBusy=!1})},t.delLink=function(n){alert(n),t.isBusy=!0,i["delete"](l+n).then(function(n){t.newLink={},t.links=[],i.get(a).then(function(n){angular.copy(n.data,t.links)},function(n){t.errorMessage="Failed to load links"})["finally"](function(){})},function(){t.errorMessage="Failed to delete link"})["finally"](function(){t.isBusy=!1})},t.editLink=function(){t.isBusy=!0,i.put(a,t.newLink).then(function(n){t.newLink={},t.links=[],i.get(a).then(function(n){angular.copy(n.data,t.links)},function(n){t.errorMessage="Failed to load links"})["finally"](function(){})},function(){t.errorMessage="Failed to add new link"})["finally"](function(){t.isBusy=!1})},t.showLink=function(n){t.isBusy=!0,i.get(l+n).then(function(n){angular.copy(n.data,t.currentLink),angular.copy(n.data,t.newLink),t.curUrl=e.trustAsResourceUrl(t.currentLink.url)},function(n){t.errorMessage="Failed to load specified link"})["finally"](function(){t.isBusy=!1})}}n.$inject=["$routeParams","$http","$sce"],angular.module("app-favlinks").controller("favlinkEditorController",n)}();